% Options for packages loaded elsewhere
\PassOptionsToPackage{unicode}{hyperref}
\PassOptionsToPackage{hyphens}{url}
%
\documentclass[
]{article}
\usepackage{lmodern}
\usepackage{amsmath}
\usepackage{ifxetex,ifluatex}
\ifnum 0\ifxetex 1\fi\ifluatex 1\fi=0 % if pdftex
  \usepackage[T1]{fontenc}
  \usepackage[utf8]{inputenc}
  \usepackage{textcomp} % provide euro and other symbols
  \usepackage{amssymb}
\else % if luatex or xetex
  \usepackage{unicode-math}
  \defaultfontfeatures{Scale=MatchLowercase}
  \defaultfontfeatures[\rmfamily]{Ligatures=TeX,Scale=1}
\fi
% Use upquote if available, for straight quotes in verbatim environments
\IfFileExists{upquote.sty}{\usepackage{upquote}}{}
\IfFileExists{microtype.sty}{% use microtype if available
  \usepackage[]{microtype}
  \UseMicrotypeSet[protrusion]{basicmath} % disable protrusion for tt fonts
}{}
\makeatletter
\@ifundefined{KOMAClassName}{% if non-KOMA class
  \IfFileExists{parskip.sty}{%
    \usepackage{parskip}
  }{% else
    \setlength{\parindent}{0pt}
    \setlength{\parskip}{6pt plus 2pt minus 1pt}}
}{% if KOMA class
  \KOMAoptions{parskip=half}}
\makeatother
\usepackage{xcolor}
\IfFileExists{xurl.sty}{\usepackage{xurl}}{} % add URL line breaks if available
\IfFileExists{bookmark.sty}{\usepackage{bookmark}}{\usepackage{hyperref}}
\hypersetup{
  pdftitle={Analysis of the Impacts of Storms in the US},
  pdfauthor={Tonya MacDonald},
  hidelinks,
  pdfcreator={LaTeX via pandoc}}
\urlstyle{same} % disable monospaced font for URLs
\usepackage[margin=1in]{geometry}
\usepackage{color}
\usepackage{fancyvrb}
\newcommand{\VerbBar}{|}
\newcommand{\VERB}{\Verb[commandchars=\\\{\}]}
\DefineVerbatimEnvironment{Highlighting}{Verbatim}{commandchars=\\\{\}}
% Add ',fontsize=\small' for more characters per line
\usepackage{framed}
\definecolor{shadecolor}{RGB}{248,248,248}
\newenvironment{Shaded}{\begin{snugshade}}{\end{snugshade}}
\newcommand{\AlertTok}[1]{\textcolor[rgb]{0.94,0.16,0.16}{#1}}
\newcommand{\AnnotationTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textbf{\textit{#1}}}}
\newcommand{\AttributeTok}[1]{\textcolor[rgb]{0.77,0.63,0.00}{#1}}
\newcommand{\BaseNTok}[1]{\textcolor[rgb]{0.00,0.00,0.81}{#1}}
\newcommand{\BuiltInTok}[1]{#1}
\newcommand{\CharTok}[1]{\textcolor[rgb]{0.31,0.60,0.02}{#1}}
\newcommand{\CommentTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textit{#1}}}
\newcommand{\CommentVarTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textbf{\textit{#1}}}}
\newcommand{\ConstantTok}[1]{\textcolor[rgb]{0.00,0.00,0.00}{#1}}
\newcommand{\ControlFlowTok}[1]{\textcolor[rgb]{0.13,0.29,0.53}{\textbf{#1}}}
\newcommand{\DataTypeTok}[1]{\textcolor[rgb]{0.13,0.29,0.53}{#1}}
\newcommand{\DecValTok}[1]{\textcolor[rgb]{0.00,0.00,0.81}{#1}}
\newcommand{\DocumentationTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textbf{\textit{#1}}}}
\newcommand{\ErrorTok}[1]{\textcolor[rgb]{0.64,0.00,0.00}{\textbf{#1}}}
\newcommand{\ExtensionTok}[1]{#1}
\newcommand{\FloatTok}[1]{\textcolor[rgb]{0.00,0.00,0.81}{#1}}
\newcommand{\FunctionTok}[1]{\textcolor[rgb]{0.00,0.00,0.00}{#1}}
\newcommand{\ImportTok}[1]{#1}
\newcommand{\InformationTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textbf{\textit{#1}}}}
\newcommand{\KeywordTok}[1]{\textcolor[rgb]{0.13,0.29,0.53}{\textbf{#1}}}
\newcommand{\NormalTok}[1]{#1}
\newcommand{\OperatorTok}[1]{\textcolor[rgb]{0.81,0.36,0.00}{\textbf{#1}}}
\newcommand{\OtherTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{#1}}
\newcommand{\PreprocessorTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textit{#1}}}
\newcommand{\RegionMarkerTok}[1]{#1}
\newcommand{\SpecialCharTok}[1]{\textcolor[rgb]{0.00,0.00,0.00}{#1}}
\newcommand{\SpecialStringTok}[1]{\textcolor[rgb]{0.31,0.60,0.02}{#1}}
\newcommand{\StringTok}[1]{\textcolor[rgb]{0.31,0.60,0.02}{#1}}
\newcommand{\VariableTok}[1]{\textcolor[rgb]{0.00,0.00,0.00}{#1}}
\newcommand{\VerbatimStringTok}[1]{\textcolor[rgb]{0.31,0.60,0.02}{#1}}
\newcommand{\WarningTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textbf{\textit{#1}}}}
\usepackage{graphicx}
\makeatletter
\def\maxwidth{\ifdim\Gin@nat@width>\linewidth\linewidth\else\Gin@nat@width\fi}
\def\maxheight{\ifdim\Gin@nat@height>\textheight\textheight\else\Gin@nat@height\fi}
\makeatother
% Scale images if necessary, so that they will not overflow the page
% margins by default, and it is still possible to overwrite the defaults
% using explicit options in \includegraphics[width, height, ...]{}
\setkeys{Gin}{width=\maxwidth,height=\maxheight,keepaspectratio}
% Set default figure placement to htbp
\makeatletter
\def\fps@figure{htbp}
\makeatother
\setlength{\emergencystretch}{3em} % prevent overfull lines
\providecommand{\tightlist}{%
  \setlength{\itemsep}{0pt}\setlength{\parskip}{0pt}}
\setcounter{secnumdepth}{-\maxdimen} % remove section numbering
\ifluatex
  \usepackage{selnolig}  % disable illegal ligatures
\fi

\title{Analysis of the Impacts of Storms in the US}
\author{Tonya MacDonald}
\date{2/20/2021}

\begin{document}
\maketitle

\hypertarget{synopsis}{%
\subsection{1: Synopsis}\label{synopsis}}

The basic goal of this assignment is to explore the NOAA Storm Database
and answer some basic questions about severe weather events in the
United States between 1950 and 2011.

\hypertarget{data-processing}{%
\subsection{2: Data Processing}\label{data-processing}}

Load packages, download the file, and load data into variable

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{library}\NormalTok{(}\StringTok{"data.table"}\NormalTok{)}
\FunctionTok{library}\NormalTok{(}\StringTok{"ggplot2"}\NormalTok{)}
\FunctionTok{library}\NormalTok{(}\StringTok{"dplyr"}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## 
## Attaching package: 'dplyr'
\end{verbatim}

\begin{verbatim}
## The following objects are masked from 'package:data.table':
## 
##     between, first, last
\end{verbatim}

\begin{verbatim}
## The following objects are masked from 'package:stats':
## 
##     filter, lag
\end{verbatim}

\begin{verbatim}
## The following objects are masked from 'package:base':
## 
##     intersect, setdiff, setequal, union
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{library}\NormalTok{(}\StringTok{"gridExtra"}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## 
## Attaching package: 'gridExtra'
\end{verbatim}

\begin{verbatim}
## The following object is masked from 'package:dplyr':
## 
##     combine
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{fileUrl }\OtherTok{\textless{}{-}} \StringTok{"https://d396qusza40orc.cloudfront.net/repdata\%2Fdata\%2FStormData.csv.bz2"}

\ControlFlowTok{if}\NormalTok{(}\SpecialCharTok{!}\FunctionTok{file.exists}\NormalTok{(}\StringTok{"/repdata\%2Fdata\%2FStormData.csv.bz2\textquotesingle{}"}\NormalTok{))\{}
  \FunctionTok{download.file}\NormalTok{(fileUrl, }\AttributeTok{destfile =} \FunctionTok{paste0}\NormalTok{(}\FunctionTok{getwd}\NormalTok{(), }\StringTok{\textquotesingle{}/repdata\%2Fdata\%2FStormData.csv.bz2\textquotesingle{}}\NormalTok{), }\AttributeTok{method =} \StringTok{"curl"}\NormalTok{)}
\NormalTok{\}}

\NormalTok{csv }\OtherTok{\textless{}{-}} \FunctionTok{read.csv}\NormalTok{(}\StringTok{"repdata\%2Fdata\%2FStormData.csv.bz2"}\NormalTok{)}

\NormalTok{storm }\OtherTok{\textless{}{-}} \FunctionTok{as.data.table}\NormalTok{(csv)}
\end{Highlighting}
\end{Shaded}

Aggregate and sort the top 10 events that effect human wellbeing

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# summarize by event type}
\NormalTok{fatalities }\OtherTok{\textless{}{-}} \FunctionTok{arrange}\NormalTok{(}\FunctionTok{aggregate}\NormalTok{(FATALITIES }\SpecialCharTok{\textasciitilde{}}\NormalTok{ EVTYPE, }\AttributeTok{data=}\NormalTok{storm, sum),}\FunctionTok{desc}\NormalTok{(FATALITIES),EVTYPE)[}\DecValTok{1}\SpecialCharTok{:}\DecValTok{10}\NormalTok{,]}
\NormalTok{injuries }\OtherTok{\textless{}{-}} \FunctionTok{arrange}\NormalTok{(}\FunctionTok{aggregate}\NormalTok{(INJURIES }\SpecialCharTok{\textasciitilde{}}\NormalTok{ EVTYPE, }\AttributeTok{data=}\NormalTok{storm, sum),}\FunctionTok{desc}\NormalTok{(INJURIES),EVTYPE)[}\DecValTok{1}\SpecialCharTok{:}\DecValTok{10}\NormalTok{,]}
\end{Highlighting}
\end{Shaded}

\hypertarget{results}{%
\subsection{3: Results}\label{results}}

\hypertarget{question-1-across-the-united-states-which-types-of-events-are-most-harmful-with-respect-to-population-health}{%
\subsubsection{Question 1: Across the United States, which types of
events are most harmful with respect to population
health?}\label{question-1-across-the-united-states-which-types-of-events-are-most-harmful-with-respect-to-population-health}}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# create chart of top 10 fatalities by event type}
\NormalTok{fatalitychart }\OtherTok{\textless{}{-}} \FunctionTok{ggplot}\NormalTok{(fatalities, }\FunctionTok{aes}\NormalTok{(}\AttributeTok{x =} \FunctionTok{reorder}\NormalTok{(EVTYPE, }\SpecialCharTok{{-}}\NormalTok{FATALITIES), }\AttributeTok{y =}\NormalTok{ FATALITIES)) }
\NormalTok{fatalitychart }\OtherTok{=}\NormalTok{ fatalitychart }\SpecialCharTok{+} \FunctionTok{geom\_bar}\NormalTok{(}\AttributeTok{stat =} \StringTok{"identity"}\NormalTok{, }\AttributeTok{fill =} \StringTok{"pink"}\NormalTok{, }\AttributeTok{width =} \ConstantTok{NULL}\NormalTok{)}
\NormalTok{fatalitychart }\OtherTok{=}\NormalTok{ fatalitychart }\SpecialCharTok{+} \FunctionTok{ylab}\NormalTok{(}\StringTok{"Fatalities"}\NormalTok{) }
\NormalTok{fatalitychart }\OtherTok{=}\NormalTok{ fatalitychart }\SpecialCharTok{+} \FunctionTok{xlab}\NormalTok{(}\StringTok{"Event Type"}\NormalTok{) }
\NormalTok{fatalitychart }\OtherTok{=}\NormalTok{ fatalitychart }\SpecialCharTok{+} \FunctionTok{theme}\NormalTok{(}\AttributeTok{axis.text.x =} \FunctionTok{element\_text}\NormalTok{(}\AttributeTok{angle=}\DecValTok{45}\NormalTok{, }\AttributeTok{hjust=}\DecValTok{1}\NormalTok{))}
\NormalTok{fatalitychart }\OtherTok{=}\NormalTok{ fatalitychart }\SpecialCharTok{+} \FunctionTok{ggtitle}\NormalTok{(}\StringTok{"Top Weather Related Fatalities"}\NormalTok{)}


\CommentTok{\# create chart of top 10 fatalities by event type}
\NormalTok{injurychart }\OtherTok{\textless{}{-}} \FunctionTok{ggplot}\NormalTok{(injuries, }\FunctionTok{aes}\NormalTok{(}\AttributeTok{x =} \FunctionTok{reorder}\NormalTok{(EVTYPE, }\SpecialCharTok{{-}}\NormalTok{INJURIES), }\AttributeTok{y =}\NormalTok{ INJURIES)) }
\NormalTok{injurychart }\OtherTok{=}\NormalTok{ injurychart }\SpecialCharTok{+} \FunctionTok{geom\_bar}\NormalTok{(}\AttributeTok{stat =} \StringTok{"identity"}\NormalTok{, }\AttributeTok{fill =} \StringTok{"blue"}\NormalTok{, }\AttributeTok{width =} \ConstantTok{NULL}\NormalTok{)}
\NormalTok{injurychart }\OtherTok{=}\NormalTok{ injurychart }\SpecialCharTok{+} \FunctionTok{ylab}\NormalTok{(}\StringTok{"Injuries"}\NormalTok{) }
\NormalTok{injurychart }\OtherTok{=}\NormalTok{ injurychart }\SpecialCharTok{+} \FunctionTok{xlab}\NormalTok{(}\StringTok{"Event Type"}\NormalTok{) }
\NormalTok{injurychart }\OtherTok{=}\NormalTok{ injurychart }\SpecialCharTok{+} \FunctionTok{theme}\NormalTok{(}\AttributeTok{axis.text.x =} \FunctionTok{element\_text}\NormalTok{(}\AttributeTok{angle=}\DecValTok{45}\NormalTok{, }\AttributeTok{hjust=}\DecValTok{1}\NormalTok{))}
\NormalTok{injurychart }\OtherTok{=}\NormalTok{ injurychart }\SpecialCharTok{+} \FunctionTok{ggtitle}\NormalTok{(}\StringTok{"Top Weather Related Injuries"}\NormalTok{)}

\CommentTok{\# arrange charts side by side}
\FunctionTok{grid.arrange}\NormalTok{(fatalitychart, injurychart, }\AttributeTok{ncol=}\DecValTok{2}\NormalTok{, }\AttributeTok{nrow=}\DecValTok{1}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\includegraphics{Project2_files/figure-latex/unnamed-chunk-3-1.pdf}

\hypertarget{question-2-across-the-united-states-which-types-of-events-have-the-greatest-economic-consequences}{%
\subsubsection{Question 2: Across the United States, which types of
events have the greatest economic
consequences?}\label{question-2-across-the-united-states-which-types-of-events-have-the-greatest-economic-consequences}}

Melting data.table so that it is easier to put in bar graph format

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{propdamage }\OtherTok{\textless{}{-}} \FunctionTok{arrange}\NormalTok{(}\FunctionTok{aggregate}\NormalTok{(PROPDMG }\SpecialCharTok{\textasciitilde{}}\NormalTok{ EVTYPE, }\AttributeTok{data=}\NormalTok{storm, sum),}\FunctionTok{desc}\NormalTok{(PROPDMG),EVTYPE)[}\DecValTok{1}\SpecialCharTok{:}\DecValTok{10}\NormalTok{,]}
\NormalTok{cropdamage }\OtherTok{\textless{}{-}} \FunctionTok{arrange}\NormalTok{(}\FunctionTok{aggregate}\NormalTok{(CROPDMG }\SpecialCharTok{\textasciitilde{}}\NormalTok{ EVTYPE, }\AttributeTok{data=}\NormalTok{storm, sum),}\FunctionTok{desc}\NormalTok{(CROPDMG),EVTYPE)[}\DecValTok{1}\SpecialCharTok{:}\DecValTok{10}\NormalTok{,]}
\end{Highlighting}
\end{Shaded}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# create chart of top 10 causes of property damage by event type}
\NormalTok{propdmgchart }\OtherTok{\textless{}{-}} \FunctionTok{ggplot}\NormalTok{(propdamage, }\FunctionTok{aes}\NormalTok{(}\AttributeTok{x =} \FunctionTok{reorder}\NormalTok{(EVTYPE, }\SpecialCharTok{{-}}\NormalTok{PROPDMG), }\AttributeTok{y =}\NormalTok{ PROPDMG)) }
\NormalTok{propdmgchart }\OtherTok{=}\NormalTok{ propdmgchart}\SpecialCharTok{+} \FunctionTok{geom\_bar}\NormalTok{(}\AttributeTok{stat =} \StringTok{"identity"}\NormalTok{, }\AttributeTok{fill =} \StringTok{"green"}\NormalTok{, }\AttributeTok{width =} \ConstantTok{NULL}\NormalTok{)}
\NormalTok{propdmgchart }\OtherTok{=}\NormalTok{ propdmgchart}\SpecialCharTok{+} \FunctionTok{ylab}\NormalTok{(}\StringTok{"Property Damage"}\NormalTok{) }
\NormalTok{propdmgchart }\OtherTok{=}\NormalTok{ propdmgchart}\SpecialCharTok{+} \FunctionTok{xlab}\NormalTok{(}\StringTok{"Event Type"}\NormalTok{) }
\NormalTok{propdmgchart }\OtherTok{=}\NormalTok{ propdmgchart}\SpecialCharTok{+} \FunctionTok{theme}\NormalTok{(}\AttributeTok{axis.text.x =} \FunctionTok{element\_text}\NormalTok{(}\AttributeTok{angle=}\DecValTok{45}\NormalTok{, }\AttributeTok{hjust=}\DecValTok{1}\NormalTok{))}
\NormalTok{propdmgchart }\OtherTok{=}\NormalTok{ propdmgchart}\SpecialCharTok{+} \FunctionTok{ggtitle}\NormalTok{(}\StringTok{"Top Weather Related Property Damage Source"}\NormalTok{)}

\CommentTok{\# create chart of top 10 causes of crop damage by event type}
\NormalTok{cropdmgchart }\OtherTok{\textless{}{-}} \FunctionTok{ggplot}\NormalTok{(cropdamage, }\FunctionTok{aes}\NormalTok{(}\AttributeTok{x =} \FunctionTok{reorder}\NormalTok{(EVTYPE, }\SpecialCharTok{{-}}\NormalTok{CROPDMG), }\AttributeTok{y =}\NormalTok{ CROPDMG)) }
\NormalTok{cropdmgchart }\OtherTok{=}\NormalTok{ cropdmgchart }\SpecialCharTok{+} \FunctionTok{geom\_bar}\NormalTok{(}\AttributeTok{stat =} \StringTok{"identity"}\NormalTok{, }\AttributeTok{fill =} \StringTok{"purple"}\NormalTok{, }\AttributeTok{width =} \ConstantTok{NULL}\NormalTok{)}
\NormalTok{cropdmgchart }\OtherTok{=}\NormalTok{ cropdmgchart }\SpecialCharTok{+} \FunctionTok{ylab}\NormalTok{(}\StringTok{"Crop Damage"}\NormalTok{) }
\NormalTok{cropdmgchart }\OtherTok{=}\NormalTok{ cropdmgchart }\SpecialCharTok{+} \FunctionTok{xlab}\NormalTok{(}\StringTok{"Event Type"}\NormalTok{) }
\NormalTok{cropdmgchart }\OtherTok{=}\NormalTok{ cropdmgchart }\SpecialCharTok{+} \FunctionTok{theme}\NormalTok{(}\AttributeTok{axis.text.x =} \FunctionTok{element\_text}\NormalTok{(}\AttributeTok{angle=}\DecValTok{45}\NormalTok{, }\AttributeTok{hjust=}\DecValTok{1}\NormalTok{))}
\NormalTok{cropdmgchart }\OtherTok{=}\NormalTok{ cropdmgchart }\SpecialCharTok{+} \FunctionTok{ggtitle}\NormalTok{(}\StringTok{"Top Weather Related Crop Damage Source"}\NormalTok{)}

\CommentTok{\# arrange charts side by side}
\FunctionTok{grid.arrange}\NormalTok{(propdmgchart, cropdmgchart, }\AttributeTok{ncol=}\DecValTok{2}\NormalTok{, }\AttributeTok{nrow=}\DecValTok{1}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\includegraphics{Project2_files/figure-latex/unnamed-chunk-5-1.pdf}

\end{document}
